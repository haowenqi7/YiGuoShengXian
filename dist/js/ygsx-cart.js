"use strict";var cartDiv=document.querySelector(".cart-text"),cartList=document.querySelector(".cart-list"),cartList2=document.querySelector(".cart-list2"),cartnone=document.querySelector(".cart-none"),cartList2Li3=document.querySelector(".cart-list2-li3"),storage=window.localStorage,cartStr=storage.ygsx_cart?storage.ygsx_cart:"";if(cartStr){cartList.style.display="block",cartList2.style.display="block",cartDiv.style.display="none";var cartObj=convertJsonStrToJsonObj(cartStr);for(var id in cartObj){var good=cartObj[id],str='<ul class="goodInfo" data-good-id="'.concat(good.id,'" style="margin-bottom:10px;">\n\t<li style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;"><img src="').concat(good.src,'" style="width:40px;height:40px;margin-top:5px;"></li>\n\t<li style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;">').concat(good.name,'</li>\n\t<li style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;">').concat(good.price,'</li>\n\t<li class="num" style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;">\n\t\t<a href="javascript:;" class="minus">-</a>\n\t\t<input type="text" value="').concat(good.num,'" style="width:100px;text-align:center;"/>\n\t\t<a href="javascript:;" class="plus">+</a>\n\t</li>\n\t<li class="total" style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;">').concat(good.num*good.price,'</li>\n\t<li style="width:199px;float:left;text-align:center;background-color: #f1f1f1;height:50px;line-height:50px;padding-right:4px;"><a href="javascript:;" class="del">删除</a></li>\n</ul>');cartnone.innerHTML+=str}for(var del=document.querySelectorAll(".goodInfo .del"),i=0,len=del.length;i<len;i++)del[i].onclick=function(){var t=this.parentNode.parentNode,e=t.getAttribute("data-good-id");t.remove();var n=window.localStorage,o=convertJsonStrToJsonObj(n.ygsx_cart?n.ygsx_cart:"");console.log(o[e]),delete o[e],n.ygsx_cart=JSON.stringify(o)};for(var minus=document.querySelectorAll(".goodInfo .minus"),i=0,len=minus.length;i<len;i++)minus[i].onclick=function(){var t=this.parentNode.parentNode.getAttribute("data-good-id"),e=window.localStorage,n=convertJsonStrToJsonObj(e.ygsx_cart?e.ygsx_cart:"");1<n[t].num&&n[t].num--,e.ygsx_cart=JSON.stringify(n),this.nextElementSibling.value=n[t].num,this.parentNode.nextElementSibling.innerHTML=n[t].num*n[t].price};for(var plus=document.querySelectorAll(".goodInfo .plus"),i=0,len=plus.length;i<len;i++)plus[i].onclick=function(){var t=this.parentNode.parentNode.getAttribute("data-good-id"),e=window.localStorage,n=convertJsonStrToJsonObj(e.ygsx_cart?e.ygsx_cart:"");n[t].num++,e.ygsx_cart=JSON.stringify(n),this.previousElementSibling.value=n[t].num,this.parentNode.nextElementSibling.innerHTML=n[t].num*n[t].price}}else;function convertJsonStrToJsonObj(t){return t?JSON.parse(t):{}}