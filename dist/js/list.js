"use strict";$(window).scroll(function(){var t,e=$(document).scrollTop();110<=e&&(t=$(".header-wrap2"),$(t).css("display","block")),e<110&&(t=$(".header-wrap2"),$(t).css("display","none"))});var oBuy=document.getElementById("buy"),oBuy2=document.getElementById("buy2"),car_div=document.getElementById("car-div"),car_p=document.getElementById("car-p"),car2_div=document.getElementById("car2-div"),car2_p=document.getElementById("car2-p");initCart();var oAddCart=document.querySelectorAll(".goodInfo .addToCart");oBuy.onclick=function(){location.href="http://127.0.0.1:5500/product/src/html/ygsx-cart.html"},oBuy2.onclick=function(){location.href="http://127.0.0.1:5500/product/src/html/ygsx-cart.html"};for(var i=0,len=oAddCart.length;i<len;i++)oAddCart[i].onclick=function(){var t=this.parentNode.parentNode.parentNode.getAttribute("data-good-id"),e=this.parentNode.parentNode.previousElementSibling.firstElementChild.firstElementChild.innerHTML,n=this.parentNode.parentNode.previousElementSibling.lastElementChild.firstElementChild.firstElementChild.innerHTML,i=this.parentNode.parentNode.parentNode.firstElementChild.firstElementChild.firstElementChild.src,o=window.localStorage,r=convertJsonStrToJsonObj(o.ygsx_cart?o.ygsx_cart:"");t in r?r[t].num++:r[t]={id:t,name:e,price:n,src:i,num:1},o.ygsx_cart=JSON.stringify(r);var l=oBuy.textContent,a=(oBuy2.textContent,parseInt(/(\d+)/.exec(l)[1]));oBuy2.textContent=a+1,oBuy.textContent=a+1};function initCart(){var t=window.localStorage,e=t.ygsx_cart?t.ygsx_cart:"",n=convertJsonStrToJsonObj(e),i=0;for(var o in n)i+=n[o].num;for(var r in oBuy.textContent=i,oBuy2.textContent=i,n){var l=n[r],a='<ul data-good-id="'.concat(l.id,'">\n\t\t\t\t\t\t\t\t<li style="width:95px;float:left;text-align:center;height:50px;line-height:50px;"><img src="').concat(l.src,'"></li>\n\t\t\t\t\t\t\t\t<li style="width:115px;float:left;text-align:center;height:50px;line-height:50px;">').concat(l.name,'</li>\n\t\t\t\t\t\t\t\t<li style="width:95px;float:left;text-align:center;height:50px;line-height:50px;">').concat(l.price,'</li>\n\t\t\t\t\t\t\t\t<li style="width:95px;float:left;text-align:center;height:50px;line-height:50px;">').concat(l.num,"</li>\n\t\t\t\t\t\t\t</ul>");e?(car2_p.style.display="none",car_p.style.display="none",car_div.innerHTML+=a,car2_div.innerHTML+=a):(car2_p.style.display="block",car_p.style.display="block")}}function convertJsonStrToJsonObj(t){return t?JSON.parse(t):{}}